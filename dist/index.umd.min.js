!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.dompp=e():t.dompp=e()}(self,(function(){return(()=>{var t={323:(t,e,r)=>{var n=r(176);t.exports=dataTree={create:function(){return new n}}},657:t=>{t.exports=function(){"use strict";function t(t){if(!t)throw new Error("Could not find a tree that is to be traversed");this._tree=t}return t.prototype.searchDFS=function(t){var e=null;return function r(n){if(n.matchCriteria(t))return e=n;n._childNodes.some(r)}(this._tree._rootNode),e},t.prototype.searchBFS=function(t){var e=null;return function(r){for(;r.length;){var n=r.splice(0,1)[0];if(n.matchCriteria(t))return void(e=n);n._childNodes.forEach((function(t){r.push(t)}))}}([this._tree._rootNode]),e},t.prototype.traverseDFS=function(t){!function e(r){t(r),r._childNodes.forEach(e)}(this._tree._rootNode)},t.prototype.traverseBFS=function(t){!function(e){for(;e.length;){var r=e.splice(0,1)[0];t(r),r._childNodes.forEach((function(t){e.push(t)}))}}([this._tree._rootNode])},t}()},958:t=>{t.exports=function(){"use strict";function t(t){this._parentNode=null,this._childNodes=[],this._data=t,this._depth=-1}return t.prototype.parentNode=function(){return this._parentNode},t.prototype.childNodes=function(){return this._childNodes},t.prototype.data=function(t){if(!(arguments.length>0))return this._data;this._data=t},t.prototype.depth=function(){return this._depth},t.prototype.matchCriteria=function(t){return t(this._data)},t.prototype.siblings=function(){var t=this;return this._parentNode?this._parentNode._childNodes.filter((function(e){return e!==t})):[]},t.prototype.distanceToRoot=function(){for(var t=0,e=this;e.parentNode();)t++,e=e.parentNode();return t},t.prototype.getAncestry=function(){for(var t=[this],e=this;e.parentNode();)t.push(e.parentNode()),e=e.parentNode();return t},t.prototype.export=function(t){if(!t||"function"!=typeof t)throw new Error("Export criteria not specified");var e=function(r){var n=r.matchCriteria(t);if(n&&"object"==typeof n)return n.children=[],r._childNodes.forEach((function(t){n.children.push(e(t))})),n;throw new Error("Export criteria should always return an object and it cannot be null.")};return e(this)},t}()},176:(t,e,r)=>{var n=r(958),s=r(657);t.exports=function(){"use strict";function t(){this._rootNode=null,this._currentNode=null,this._traverser=new s(this)}return t.prototype.rootNode=function(){return this._rootNode},t.prototype.currentNode=function(){return this._currentNode},t.prototype.traverser=function(){return this._traverser},t.prototype.isEmpty=function(){return null===this._rootNode&&null===this._currentNode},t.prototype.pruneAllNodes=function(){return this._rootNode&&this._currentNode&&this.trimBranchFrom(this._rootNode),this},t.prototype.insert=function(t){var e=new n(t);return null===this._rootNode&&null===this._currentNode?(e._depth=1,this._rootNode=this._currentNode=e):(e._parentNode=this._currentNode,this._currentNode._childNodes.push(e),this._currentNode=e,e.depth=e._parentNode._depth+1),e},t.prototype.remove=function(t,e){e||t===this._rootNode?this.trimBranchFrom(t):(t._childNodes.forEach((function(e){e._parentNode=t._parentNode,t._parentNode._childNodes.push(e)})),t._parentNode._childNodes.splice(t._parentNode._childNodes.indexOf(t),1),this._currentNode=t._parentNode,t._childNodes=[],t._parentNode=null,t._data=null)},t.prototype.trimBranchFrom=function(t){var e=this;!function t(e){e._childNodes.forEach(t),e._childNodes=[],e._data=null}(t),t._parentNode?(t._parentNode._childNodes.splice(t._parentNode._childNodes.indexOf(t),1),e._currentNode=t._parentNode):e._rootNode=e._currentNode=null},t.prototype.insertTo=function(t,e){var r=this.traverser().searchDFS(t);return this.insertToNode(r,e)},t.prototype.insertToNode=function(t,e){var r=new n(e);return r._parentNode=t,r._depth=r._parentNode._depth+1,t._childNodes.push(r),this._currentNode=r,r},t.prototype.distanceBetween=function(t,e){return t.distanceToRoot()+e.distanceToRoot()-2*this.findCommonParent(t,e).distanceToRoot()},t.prototype.findCommonParent=function(t,e){var r=t.getAncestry(),n=e.getAncestry(),s=null;return r.some((function(t){if(-1!==n.indexOf(t))return s=t,!0})),s},t.prototype.export=function(t){return this._rootNode?this._rootNode.export(t):null},t.prototype.compress=function(e){if(!e||"function"!=typeof e)throw new Error("Compress criteria not specified");if(this.isEmpty())return null;var r=new t,n=this;return function t(s,i){n.rootNode()===s||s.matchCriteria(e)?i=r.isEmpty()?r.insert(s.data()):r.insertToNode(i,s.data()):i._data.hasCompressedNodes=!0,s.childNodes().forEach((function(e){t(e,i)}))}(this.rootNode(),null),r},t.prototype.import=function(t,e,r){this._rootNode&&this.trimBranchFrom(this._rootNode),this._currentNode=this._rootNode=null;var n=this;return function t(s,i){var o=r(i);s=s?n.insertToNode(s,o):n.insert(o),i[e].forEach((function(e){t(s,e)}))}(this._rootNode,t),this._currentNode=this._rootNode,this},t}()}},e={};function r(n){var s=e[n];if(void 0!==s)return s.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};return(()=>{"use strict";r.r(n),r.d(n,{AbstractFunction:()=>x,Addition:()=>W,All:()=>f,AndNode:()=>D,Argument:()=>st,ArgumentValue:()=>it,AtomicFunction:()=>C,AtomicFunctionReturnValue:()=>S,BackgroundColor:()=>Et,BackgroundImage:()=>Ht,BooleanAnd:()=>j,BooleanNot:()=>E,BooleanOr:()=>A,BorderColor:()=>Qt,BorderRadius:()=>Mt,BorderStyle:()=>Wt,BorderWidth:()=>kt,ClientOffsetLeft:()=>_t,ClientOffsetTop:()=>St,Color:()=>jt,ComposedFunction:()=>X,ComposedFunctionValue:()=>tt,CompoundDesignator:()=>g,ConstantDesignator:()=>N,ConstantFunction:()=>V,ConstantValue:()=>y,CssPropertyFunction:()=>Nt,CssRecursivePropertyFunction:()=>xt,DesignatedObject:()=>L,Designator:()=>h,DimensionHeight:()=>wt,DimensionWidth:()=>bt,Display:()=>zt,Division:()=>z,ElementAttribute:()=>mt,ElementAttributeValue:()=>yt,Enumerate:()=>Z,EnumeratedValue:()=>Y,ExistentialQuantifier:()=>gt,Explainer:()=>$,FindBySelector:()=>Xt,Float:()=>Gt,FontFamily:()=>Tt,FontSize:()=>Ot,FontWeight:()=>Ft,FunctionNamedArgument:()=>nt,GreaterOrEqual:()=>G,GreaterThan:()=>J,Identity:()=>_,InputArgument:()=>w,IsEqualTo:()=>k,LesserOrEqual:()=>H,LesserThan:()=>U,MarginBottom:()=>Pt,MarginLeft:()=>Dt,MarginRight:()=>Bt,MarginTop:()=>qt,Multiplication:()=>M,NamedArgument:()=>et,NamedArgumentValue:()=>rt,NaryConjunctiveVerdict:()=>T,NaryDisjunctiveVerdict:()=>F,NaryValue:()=>m,Nothing:()=>d,NthItem:()=>K,ObjectNode:()=>R,Opacity:()=>At,OrNode:()=>B,PaddingBottom:()=>Rt,PaddingLeft:()=>Lt,PaddingRight:()=>$t,PaddingTop:()=>It,PageOffsetLeft:()=>Ct,PageOffsetTop:()=>Vt,Path:()=>Yt,PathValue:()=>Kt,Position:()=>Ut,Quantifier:()=>ct,QuantifierConjunctiveVerdict:()=>pt,QuantifierDisjunctiveVerdict:()=>dt,QuantifierVerdict:()=>ht,ReturnValue:()=>b,Serialization:()=>te,Subtraction:()=>Q,TestCondition:()=>ut,TestDriver:()=>ot,TestResult:()=>lt,Tracer:()=>q,UniversalQuantifier:()=>ft,Unknown:()=>p,UnknownNode:()=>I,Value:()=>v,Verdict:()=>at,Visibility:()=>Jt,WebElementFunction:()=>vt,Zindex:()=>Zt,evaluateDom:()=>ee,getTreeFromWitness:()=>ne,getVerdict:()=>re});var t={};r.r(t),r.d(t,{AbstractFunction:()=>x,Addition:()=>W,All:()=>f,AndNode:()=>D,Argument:()=>st,ArgumentValue:()=>it,AtomicFunction:()=>C,AtomicFunctionReturnValue:()=>S,BackgroundColor:()=>Et,BackgroundImage:()=>Ht,BooleanAnd:()=>j,BooleanNot:()=>E,BooleanOr:()=>A,BorderColor:()=>Qt,BorderRadius:()=>Mt,BorderStyle:()=>Wt,BorderWidth:()=>kt,ClientOffsetLeft:()=>_t,ClientOffsetTop:()=>St,Color:()=>jt,ComposedFunction:()=>X,ComposedFunctionValue:()=>tt,CompoundDesignator:()=>g,ConstantDesignator:()=>N,ConstantFunction:()=>V,ConstantValue:()=>y,CssPropertyFunction:()=>Nt,CssRecursivePropertyFunction:()=>xt,DesignatedObject:()=>L,Designator:()=>h,DimensionHeight:()=>wt,DimensionWidth:()=>bt,Display:()=>zt,Division:()=>z,ElementAttribute:()=>mt,ElementAttributeValue:()=>yt,Enumerate:()=>Z,EnumeratedValue:()=>Y,ExistentialQuantifier:()=>gt,Explainer:()=>$,FindBySelector:()=>Xt,Float:()=>Gt,FontFamily:()=>Tt,FontSize:()=>Ot,FontWeight:()=>Ft,FunctionNamedArgument:()=>nt,GreaterOrEqual:()=>G,GreaterThan:()=>J,Identity:()=>_,InputArgument:()=>w,IsEqualTo:()=>k,LesserOrEqual:()=>H,LesserThan:()=>U,MarginBottom:()=>Pt,MarginLeft:()=>Dt,MarginRight:()=>Bt,MarginTop:()=>qt,Multiplication:()=>M,NamedArgument:()=>et,NamedArgumentValue:()=>rt,NaryConjunctiveVerdict:()=>T,NaryDisjunctiveVerdict:()=>F,NaryValue:()=>m,Nothing:()=>d,NthItem:()=>K,ObjectNode:()=>R,Opacity:()=>At,OrNode:()=>B,PaddingBottom:()=>Rt,PaddingLeft:()=>Lt,PaddingRight:()=>$t,PaddingTop:()=>It,PageOffsetLeft:()=>Ct,PageOffsetTop:()=>Vt,Path:()=>Yt,PathValue:()=>Kt,Position:()=>Ut,Quantifier:()=>ct,QuantifierConjunctiveVerdict:()=>pt,QuantifierDisjunctiveVerdict:()=>dt,QuantifierVerdict:()=>ht,ReturnValue:()=>b,Serialization:()=>te,Subtraction:()=>Q,TestCondition:()=>ut,TestDriver:()=>ot,TestResult:()=>lt,Tracer:()=>q,UniversalQuantifier:()=>ft,Unknown:()=>p,UnknownNode:()=>I,Value:()=>v,Verdict:()=>at,Visibility:()=>Jt,WebElementFunction:()=>vt,Zindex:()=>Zt,evaluateDom:()=>ee,getTreeFromWitness:()=>ne,getVerdict:()=>re});var e,s,i,o=r(323);function u(t,e){return null==t&&null==e||!(null==t&&null!=e||null!=t&&null==e)&&("function"==typeof t.equals?t.equals(e):t===e)}function a(t,e){for(var r=0;r<t.length;r++)if(u(t[r],e))return!0;return!1}function l(t){if("object"!=typeof t)return!1;for(;""!==t.constructor.name&&"Object"!==t.constructor.name;){if("HTMLElement"===(t.name||t.constructor.name))return!0;t=Object.getPrototypeOf(t.constructor)}return!1}function c(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class h{constructor(){}head(){return this}tail(){return null}equals(t){return null!=t&&t instanceof h&&t==this}}class d extends h{constructor(){super()}toString(){return"Nothing"}equals(t){return null!=t&&t instanceof d}}c(d,"instance",new d);class p extends h{constructor(){super()}toString(){return"Unknown"}equals(t){return null!=t&&t instanceof p}}c(p,"instance",new p);class f extends h{constructor(){super()}toString(){return"All"}equals(t){return null!=t&&t instanceof f}}c(f,"instance",new f);class g extends h{static create(){if(0==arguments.length)return d.instance;for(var t=[],e=0;e<arguments.length;e++)null!=arguments[e]&&(arguments[e]instanceof g?t.push(...arguments[e].elements):t.push(arguments[e]));return 0==t.length?d.instance:1==t.length?t[0]:new g(...t)}constructor(){super(),this.elements=[];for(var t=0;t<arguments.length;t++)this.add(arguments[t])}add(t){if(null!=t)if(t instanceof g)for(var e=0;e<t.elements.length;e++)this.add(t.elements[e]);else this.elements.push(t)}size(){return this.elements.length}head(){return 0==this.elements.length?new d:this.elements[this.elements.length-1]}tail(){if(this.elements.length<=1)return null;if(2==this.elements.length)return this.elements[0];for(var t=new g,e=0;e<this.elements.length-1;e++)t.add(this.elements[e]);return t}toString(){for(var t="",e=0;e<this.elements.length;e++)e>0&&(t+=" of "),t+=this.elements[e].toString();return t}equals(t){if(null==t||!(t instanceof g))return!1;if(t.size()!=this.size())return!1;for(var e=0;e<this.elements.length;e++)if(!u(this.elements[e],t.elements[e]))return!1;return!0}}class v{getValue(){return null}query(t,e,r,n){}static lift(t){return t instanceof v?t:new y(t)}}class m extends v{constructor(t,e=[],r=[]){super(),this.value=t,this.values=e,this.positions=r}getValue(){return this.value}}class y extends v{constructor(t){super(),this.value=t}query(t,e,r,n){var s=[],i=g.create(e,new N),o=n.getObjectNode(i,this.value);return r.addChild(o),s.push(o),s}getValue(){return this.value}toString(){return this.value.toString()}equals(t){return null!=t&&t instanceof v&&t.getValue()===this.value}}class N extends h{toString(){return"Value"}}class x{constructor(){this.members=[]}static lift(t){return t instanceof x?t:new V(v.lift(t))}evaluate(){return null}setTo(t,e){}getArity(){return 0}equals(t){return null!=t&&t instanceof x&&t==this}static deserialize(t,e){const r=[];for(const n of e.contents)"object"==typeof n&&2==Object.keys(n).length&&void 0!==n.name&&void 0!==n.contents?r.push(t.deserialize(n)):r.push(n);return new this(...r)}toJson(){const t=[];for(const e of this.members)"object"==typeof e&&x.isPrototypeOf(e.constructor)?t.push(e.toJson()):t.push(e);return{name:this.constructor.name,contents:t}}}class b extends h{constructor(){super()}toString(){return"!"}equals(t){return null!=t&&t instanceof b}}e=b,s="instance",i=new b,s in e?Object.defineProperty(e,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[s]=i;class w extends h{constructor(t){super(),this.index=t}getIndex(){return this.index}toString(){return"@"+this.index}equals(t){return null!=t&&t instanceof w&&t.getIndex()==this.index}}class V extends x{constructor(t){super(),this.members=[t],this.value=v.lift(t)}evaluate(){return this.value}getArity(){return 0}set(t,e){return this}}class C extends x{constructor(t){super(),this.arity=t}evaluate(){for(var t=[],e=0;e<arguments.length;e++)t[e]=v.lift(arguments[e]);return this.compute(...t)}compute(){if(arguments.length!==this.arity)throw"Invalid number of arguments";for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e].getValue());var r=this.getValue(...t);return r instanceof v?r:new S(this,r,...arguments)}getValue(){return null}set(){return this}}class S extends v{constructor(){super(),this.referenceFunction=arguments[0],this.outputValue=arguments[1],this.inputValues=[];for(var t=2;t<arguments.length;t++)this.inputValues.push(arguments[t])}getValue(){return this.outputValue}toString(){return this.outputValue.toString()}query(t,e,r,n){for(var s=[],i=n.getAndNode(),o=0;o<this.inputValues.length;o++)if(null!==this.inputValues[o]){var u,a=g.create(e.tail(),new w(o)),l=n.getObjectNode(a,this.referenceFunction);u=this.inputValues[o].query(t,b.instance,l,n),s.push(...u),i.addChild(l)}var c=n.getObjectNode(e,this.referenceFunction);return 1===i.getChildren().length?c.addChild(i.getChildren()[0]):c.addChild(i),r.addChild(c),s}}class _ extends C{constructor(){super(1)}getValue(){return arguments[0]}}class O extends C{constructor(){super("arity")}compute(){for(var t=[],e=[],r=[],n=[],s=0;s<arguments.length;s++){var i=arguments[s].getValue();if("boolean"!=typeof i)throw"Invalid argument type";!0===i?(r.push(arguments[s]),n.push(s)):(t.push(arguments[s]),e.push(s))}return this.getBooleanValue(t,r,e,n)}}class F extends m{query(t,e,r,n){for(var s=[],i=n.getOrNode(),o=0;o<this.values.length;o++){var u,a=g.create(e.tail(),new w(this.positions[o])),l=n.getObjectNode(a,this.referenceFunction);u=this.values[o].query(t,b.instance,l,n),s.push(...u),i.addChild(l)}return 1===i.getChildren().length?r.addChild(i.getChildren()[0]):r.addChild(i),s}}class T extends m{constructor(t,e=[],r=[]){super(t,e,r)}query(t,e,r,n){for(var s=[],i=n.getAndNode(),o=0;o<this.values.length;o++){var u,a=g.create(e.tail(),new w(this.positions[o])),l=n.getObjectNode(a,this.referenceFunction);u=this.values[o].query(t,b.instance,l,n),s.push(...u),i.addChild(l)}return 1===i.getChildren().length?r.addChild(i.getChildren()[0]):r.addChild(i),s}}class j extends O{constructor(t=2){super(t)}getBooleanValue(t=[],e=[],r=[],n=[]){return 0===t.length?new T(!0,e,n):new F(!1,t,r)}toString(){return"And"}}class A extends O{constructor(t=2){super(t)}getBooleanValue(t=[],e=[],r=[],n=[]){return 0===e.length?new T(!1,t,r):new F(!0,e,n)}toString(){return"Or"}}class E extends C{constructor(){super(1)}getValue(){if("boolean"!=typeof arguments[0])throw"Invalid argument type";return!arguments[0]}toString(){return"Not"}}class q{constructor(){this.nodes=new Map,this.tracerContext=[],arguments.length>0&&(this.tracerContext=arguments),this.simplify=!0}setSimplify(t){this.simplify=t}getObjectNode(t,e){if(t instanceof L)var r=t;else r=new L(t,e);if(function(t,e){for(const[r]of t)if(u(r,e))return!0;return!1}(this.nodes,r))return function(t,e){for(const[r,n]of t)if(r.equals(e))return n;return null}(this.nodes,r);var n=new R(r);return function(t,e,r){for(const[n]of t)if(u(n,e))return void t.set(n,r);t.set(e,r)}(this.nodes,r,n),n}getAndNode(){return new D}getOrNode(){return new B}getUnknownNode(){return new I}getSubTracer(t){var e=[];return e.push(...this.tracerContext),e.push(t),new q(...e)}getTree(t,e,r){var n=this.getObjectNode(e,r);return this.getChildren(t,n,[]),n}getChildren(t,e,r){if(!a(r,e)&&(r.push(e),e instanceof R)){var n=e.getDesignatedObject(),s=n.getObject(),i=n.getDesignator();if(!(i instanceof f||i instanceof d||i instanceof p)&&"function"==typeof s.query)for(var o=s.query(t,i,e,this),u=0;u<o.length;u++)this.getChildren(t,o[u],r)}}}class P{constructor(){this.id=P.TN_ID_COUNTER++,this.children=[]}getId(){return this.id}addChild(t){t!=this&&this.children.push(t)}getChildren(){return this.children}}!function(t,e,r){e in t?Object.defineProperty(t,e,{value:0,enumerable:!0,configurable:!0,writable:!0}):t[e]=0}(P,"TN_ID_COUNTER");class D extends P{constructor(){super()}toString(){var t="";1==arguments.length&&(t=arguments[0]);var e="";e+=t+"^\n";for(var r=0;r<this.children.length;r++)e+=t+this.children[r].toString(t+" ");return e}addChild(t){if(t instanceof D)for(var e=0;e<t.children.length;e++)this.children.push(t.children[e]);else this.children.push(t)}}class B extends P{constructor(){super()}toString(){var t="";1==arguments.length&&(t=arguments[0]);var e="";e+=t+"v\n";for(var r=0;r<this.children.length;r++)e+=t+this.children[r].toString(t+" ");return e}addChild(t){if(t instanceof B)for(var e=0;e<t.children.length;e++)this.children.push(t.children[e]);else this.children.push(t)}}class I extends P{constructor(){super()}toString(){return"?"}}class R extends P{constructor(t,e){super(),this.designatedObject=t instanceof L?t:new L(t,e)}getDesignatedObject(){return this.designatedObject}toString(){return this.designatedObject.toString()}}class L{constructor(t,e,r){this.designator=t,this.object=e,this.context=arguments.length>=3?r:[]}getDesignator(){return this.designator}getObject(){return this.object}getContext(){return this.context}equals(t){return null!=t&&t instanceof L&&(null==this.object&&null==t.object||null!=this.object&&u(this.object,t.object))&&this.designator.equals(t.designator)&&this.sameContext(t)}sameContext(t){if(this.context.length!=t.context.length)return!1;for(var e=0;e<this.context.length;e++)if(this.context[e]!=t.context[e])return!1;return!0}toString(){return this.designator.toString()+" of "+this.object.toString()}}class ${constructor(){}static explain(t,e=!0){var r=new q;return r.setSimplify(e),r.getTree(null,b.instance,t)}}class k extends C{constructor(){super(2)}getValue(){var t=arguments[0],e=arguments[1];return null==t&&null==e||!(null==t&&null!=e||null!=t&&null==e)&&("number"==typeof t&&"number"==typeof e||"string"==typeof t&&"string"==typeof e)&&t===e}}class W extends C{constructor(t=2){super(t)}getValue(){for(var t=0,e=0;e<this.arity;e++){var r=arguments[e];if("number"!=typeof r)throw"Invalid argument type";t+=r}return t}toString(){return"Addition"}}class Q extends C{constructor(t=3){super(t)}getValue(){for(var t=arguments[0],e=1;e<arguments.length;e++){var r=arguments[e];if("number"!=typeof r)throw"Invalid argument type";t-=r}return t}toString(){return"Subtraction"}}class M extends C{constructor(t=5){super(t)}compute(){if(arguments.length!==this.arity)throw"Invalid number of arguments";for(var t=[],e=[],r=1,n=0;n<this.arity;n++){var s=arguments[n].getValue();if("number"!=typeof s)throw"Invalid argument type";0===s?(t.push(arguments[n]),e.push(n)):r*=s}return this.getZeroValue(t,e,r)}getZeroValue(t=[],e=[],r=null){return 0===t.length?r:parseFloat(t)}toString(){return"Multiplication"}}class z extends C{constructor(t=4){super(t)}getValue(){for(var t=arguments[0],e=1;e<arguments.length;e++){var r=arguments[e];if("number"!=typeof r)throw"Invalid argument type";t/=r}return t}toString(){return"Division"}}class J extends C{constructor(){super(2)}getValue(){var t=arguments[0],e=arguments[1];if("number"!=typeof t||"number"!=typeof e)throw new Error(`Invalid argument type. GreaterThan expects both arguments to be numbers, but the following were received instead: ${typeof t} (${JSON.stringify(t)}) and ${typeof e} (${JSON.stringify(e)}).`);return t>e}toString(){return"&gt;"}}class U extends C{constructor(){super(2)}getValue(){var t=arguments[0],e=arguments[1];if("number"!=typeof t||"number"!=typeof e)throw new Error(`Invalid argument type. LesserThan expects both arguments to be numbers, but the following were received instead: ${typeof t} (${JSON.stringify(t)}) and ${typeof e} (${JSON.stringify(e)}).`);return t<e}toString(){return"&lt;"}}class G extends C{constructor(){super(2)}getValue(){var t=arguments[0],e=arguments[1];if("number"!=typeof t||"number"!=typeof e)throw new Error(`Invalid argument type. GreaterOrEqual expects both arguments to be numbers, but the following were received instead: ${typeof t} (${JSON.stringify(t)}) and ${typeof e} (${JSON.stringify(e)}).`);return t>=e}toString(){return"&ge;"}}class H extends C{constructor(){super(2)}getValue(){var t=arguments[0],e=arguments[1];if("number"!=typeof t||"number"!=typeof e)throw new Error(`Invalid argument type. LesserOrEqual expects both arguments to be numbers, but the following were received instead: ${typeof t} (${JSON.stringify(t)}) and ${typeof e} (${JSON.stringify(e)}).`);return t<=e}toString(){return"&le;"}}class Z extends C{constructor(){super(1)}compute(){var t=arguments[0].getValue();if(!Array.isArray(t))throw"Invalid argument type";for(var e=[],r=[],n=0;n<t.length;n++)e.push(v.lift(t[n]));for(let n=0;n<t.length;n++)r.push(new Y(n,e));return new S(this,r,...arguments)}getValue(){return null}}class Y extends v{constructor(t,e){super(),this.index=t,this.inputList=e}query(t,e,r,n){var s=[],i=g.create(e.tail(),new K(this.index)),o=n.getObjectNode(i,this.inputList);r.addChild(o);var u=this.inputList[this.index].query(t,i,o,n);return s.push(...u),s}getValue(){return this.inputList[this.index].getValue()}toString(){return this.inputList[this.index].getValue().toString()}equals(t){return null!=t&&t instanceof Y&&this.index===t.index&&this.inputList===t.inputList}}class K extends h{constructor(t){super(),this.index=t}appliesTo(t){return Array.isArray(t)}getIndex(){return this.index}toString(){return"Element #"+(this.index+1)}}class X extends x{constructor(t,...e){super(),this.members=[t,...e],this.operator=t,this.operands=[];for(var r=0;r<e.length;r++)if("string"==typeof e[r]){var n=e[r];if(n.startsWith("@")){var s=n.substring(1).trim();this.operands.push(new st(s));continue}if(n.startsWith("$")){this.operands.push(new et(this,n.substring(1).trim()));continue}}else this.operands.push(x.lift(e[r]))}setName(t){return this.name=t,this}set(t,e){for(var r=new X(this.operator),n=[],s=0;s<this.operands.length;s++)n.push(this.operands[s].set(t,e));return r.operands=n,r}getArity(){var t=[];return this.getArguments(t),t.length}getArguments(t){for(var e=0;e<this.operands.length;e++){var r=this.operands[e];r instanceof X&&r.getArguments(t),r instanceof st&&t.push(r.index),r instanceof et&&t.push(e)}}evaluate(){for(var t=[],e=0;e<this.operands.length;e++)t.push(this.operands[e].evaluate(...arguments));var r=this.operator.evaluate(...t);return new tt(this,r,...t)}toString(){return null!=this.name?this.name:"F("+this.operator.toString()+")"}}class tt extends v{constructor(t,e,...r){super(),this.referenceFunction=t,this.inputValues=r,this.returnValue=e}query(t,e,r,n){var s=[];if(!(e.head()instanceof b))return s;for(var i=g.create(b.instance,e.tail()),o=n.getObjectNode(i,this.referenceFunction.operator),u=this.returnValue.query(t,e,o,n),a=[],l=0;l<u.length;l++){var c=u[l];if(c instanceof R){var h=c.getDesignatedObject().getDesignator();if(h.head()instanceof w){var d=h.head().getIndex();a.push(...this.inputValues[d].query(t,i,c,n));continue}}a.push(c)}return s.push(...a),r.addChild(o),s}getValue(){return this.returnValue.getValue()}toString(){return this.returnValue.toString()}}class et extends x{constructor(t,e){super(),this.name=e,this.value=null,this.referenceFunction=t,this.isSet=!1}set(t,e){return this.name!==t&&"$"+this.name!==t||(this.value=v.lift(e)),this.isSet=!0,this}evaluate(){if(this.isSet)return new rt(this.name,this.value);for(var t=0;t<this.referenceFunction.operands.length;t++)if(this.referenceFunction.operands[t]instanceof et&&this.name===this.referenceFunction.operands[t].getName())return new rt(this.name,v.lift(arguments[t]));return new rt(this.name,this.value)}toString(){return"$"+this.name}getArity(){return 0}getName(){return this.name}}class rt extends v{constructor(t,e){super(),this.value=e,this.name=t}query(t,e,r,n){var s=[],i=g.create(e.tail(),new nt(this.name,this.value)),o=n.getObjectNode(i,this.value),u=this.value.query(t,e,o,n);return s.push(...u),r.addChild(o),s}getValue(){return this.value.getValue()}toString(){return this.value.getValue().toString()}}class nt extends h{constructor(t,e){super(),this.name=t,this.value=e}appliesTo(t){return t instanceof Function}head(){return this}tail(){return null}toString(){return"$"+this.name+"/"+this.value}}class st extends x{constructor(t){super(),this.index=t}set(t,e){return this}evaluate(){var t=v.lift(arguments[this.index]);return new it(this,t,this.index)}toString(){return"@"+this.index}}class it extends v{constructor(t,e,r){super(),this.value=e,this.index=r,this.referenceFunction=t}query(t,e,r,n){var s=[],i=g.create(e.tail(),new w(this.index,this.value)),o=n.getObjectNode(i,this.value),u=this.value.query(t,e,o,n);return s.push(...u),r.addChild(o),s}getValue(){return this.value.getValue()}}class ot{constructor(){this.conditions=[],arguments.length>0&&(this.conditions=arguments),this.returnedValues=[]}add(){this.conditions.push(...arguments)}evaluateAll(t){this.returnedValues=[];for(var e=0;e<this.conditions.length;e++){var r=this.conditions[e].evaluate(t);this.returnedValues.push(r)}}getResult(){for(var t=[],e=0;e<this.conditions.length;e++)t.push(new at(this.returnedValues[e],this.conditions[e]));return new lt(...t)}}class ut{constructor(t,e){this.name=t,this.function=e}getName(){return this.name}evaluate(t){return this.function.evaluate(t)}}class at{constructor(t,e){this.value=t,this.condition=e}getCondition(){return this.condition}getValue(){return this.value}getResult(){return!!this.value.getValue()}getWitness(){var t=[],e=$.explain(this.value);return at.pick(e,t),t}static pick(t,e,r=[]){if(!a(r,t))if(r.push(t),t instanceof D)for(var n=0;n<t.getChildren().length;n++)at.pick(t.getChildren()[n],e,r);else if(t instanceof B)for(var s=!0;s;)at.pick(t.getChildren()[n],e,r),s=!1;else if(t instanceof R)if(0===t.getChildren().length)e.push(t.getDesignatedObject());else for(let n=0;n<t.getChildren().length;n++)at.pick(t.getChildren()[n],e,r)}}class lt{constructor(){this.verdicts=arguments}getVerdicts(){return this.verdicts}getResult(){for(var t=0;t<this.verdicts.length;t++)if(!this.verdicts[t].getResult())return!1;return!0}}class ct extends x{constructor(t,e,r){super(),"number"==typeof t?this.index=t:this.variable=t,this.domain=e,this.phi=r,this.members=[t,e,r]}getArity(){return 1}evaluate(){if(1!==arguments.length)throw"Invalid number of arguments";var t=[],e=[],r=this.domain.evaluate(...arguments).getValue();if(!Array.isArray(r))throw"Domain expression does not return a list";for(var n=r,s=0;s<n.length;s++){var i=v.lift(n[s]),o=this.phi.set(this.variable,i).evaluate(...arguments),u=o.getValue();if("boolean"!=typeof u)throw"Invalid argument type";u?t.push({value:i,verdict:o}):e.push({value:i,verdict:o})}return this.getQuantifierValue(e,t)}getQuantifierValue(t,e){return null}}class ht extends v{constructor(t,e,r){super(),this.value=e,this.verdicts=r,this.referenceFunction=t}getValue(){return this.value}toString(){return this.value.toString()}}class dt extends ht{query(t,e,r,n){for(var s=[],i=n.getOrNode(),o=0;o<this.verdicts.length;o++){var u=this.verdicts[o].verdict,a=n.getSubTracer(this.referenceFunction),l=u.query(t,b.instance,i,a);s.push(...l)}var c=n.getObjectNode(b.instance,this.referenceFunction);return 1===this.verdicts.length?c.addChild(i.getChildren()[0]):c.addChild(i),r.addChild(c),s}}class pt extends ht{query(t,e,r,n){for(var s=[],i=n.getAndNode(),o=0;o<this.verdicts.length;o++){var u=this.verdicts[o].verdict,a=n.getSubTracer(u),l=u.query(t,b.instance,i,a);s.push(...l)}var c=n.getObjectNode(b.instance,this.referenceFunction);return 1===this.verdicts.length?c.addChild(i.getChildren()[0]):c.addChild(i),r.addChild(c),s}}class ft extends ct{getQuantifierValue(t=[],e=[]){return 0===t.length?new pt(this,!0,e):new dt(this,!1,t)}toString(){return"ForAll"}set(t,e){return new ft(this.variable,this.domain.set(t,e),this.phi.set(t,e))}}class gt extends ct{getQuantifierValue(t=[],e=[]){return e.length>0?new dt(this,!0,e):new pt(this,!1,t)}toString(){return"Exists"}set(t,e){return new gt(this.variable,this.domain.set(t,e),this.phi.set(t,e))}}class vt extends C{constructor(t){super(1),this.name=t}compute(){var t=this.get(arguments[0].getValue());return new yt(this.name,arguments[0],t)}get(t){return null}getOwnerWindow(t){return t.ownerDocument.defaultView||t.ownerDocument.parentWindow}getElementComputedStyle(t){return this.getOwnerWindow(t).getComputedStyle(t)}}class mt extends h{constructor(t){super(),this.name=t}toString(){return this.name}}class yt extends v{constructor(t,e,r){super(),this.name=t,this.input=v.lift(e),this.value=v.lift(r)}getValue(){return this.value.getValue()}toString(){return this.value.getValue().toString()}query(t,e,r,n){var s=[],i=g.create(new mt(this.name),e),o=n.getObjectNode(i,this.input);return s.push(...this.input.query(t,i,o,n)),r.addChild(o),s}}class Nt extends vt{constructor(t,e=null){if(-1==["float","int","string",null].indexOf(e))throw new Error(`CssPropertyFunction returnType expects one of the following values: "float", "int", "string", null. Received ${e} instead.`);super(t),this.returnType=e}get(t){const e=this.getElementComputedStyle(t).getPropertyValue(this.name);switch(this.returnType){case"float":return parseFloat(e);case"int":return parseInt(e);case"string":return"string"==typeof e?e:e.toString()}return e}}class xt extends vt{constructor(t,e=null,r=null){if(-1==["float","int","string",null].indexOf(e))throw new Error(`CssPropertyFunction returnType expects one of the following values: "float", "int", "string", null. Received ${e} instead.`);super(t),this.returnType=e,this.defaultValue=r}get(t){const e=this.getRecursive(t);switch(this.returnType){case"float":return parseFloat(e);case"int":return parseInt(e);case"string":return"string"==typeof e?e:e.toString()}return e}getRecursive(t){if(!t)return this.defaultValue;const e=this.getElementComputedStyle(t).getPropertyValue(this.name);return this.filter(e)?this.getRecursive(t.parentElement):e}filter(t){return""==t}}class bt extends vt{constructor(){super("width")}get(t){return t.offsetWidth}}class wt extends vt{constructor(){super("height")}get(t){return t.offsetHeight}}class Vt extends vt{constructor(){super("PageOffsetTop")}get(t){return this.getOffsetTop(t)}getOffsetTop(t){return t?this.getOffsetTop(t.offsetParent)+t.offsetTop:0}}class Ct extends vt{constructor(){super("PageOffsetLeft")}get(t){return this.getOffsetLeft(t)}getOffsetLeft(t){return t?this.getOffsetLeft(t.offsetParent)+t.offsetLeft:0}}class St extends vt{constructor(){super("clientOffsetTop")}get(t){return t.getBoundingClientRect().top}}class _t extends vt{constructor(){super("clientOffsetLeft")}get(t){return t.getBoundingClientRect().left}}class Ot extends Nt{constructor(){super("font-size")}}class Ft extends Nt{constructor(){super("font-weight")}}class Tt extends Nt{constructor(){super("font-family")}}class jt extends Nt{constructor(){super("color")}}class At extends Nt{constructor(){super("opacity","float")}}class Et extends xt{constructor(){super("background-color",null,"rgba(0, 0, 0, 0)")}filter(t){return""==t||"transparent"==t||"rgba(0, 0, 0, 0)"==t}}class qt extends Nt{constructor(){super("margin-top","float")}}class Pt extends Nt{constructor(){super("margin-bottom")}}class Dt extends Nt{constructor(){super("margin-left")}}class Bt extends Nt{constructor(){super("margin-right")}}class It extends Nt{constructor(){super("padding-top")}}class Rt extends Nt{constructor(){super("padding-bottom")}}class Lt extends Nt{constructor(){super("padding-left")}}class $t extends Nt{constructor(){super("padding-right")}}class kt extends Nt{constructor(){super("border-width")}}class Wt extends Nt{constructor(){super("border-style")}}class Qt extends Nt{constructor(){super("border-color")}}class Mt extends Nt{constructor(){super("border-radius")}}class zt extends Nt{constructor(){super("display")}}class Jt extends Nt{constructor(){super("visibility")}}class Ut extends Nt{constructor(){super("position")}}class Gt extends Nt{constructor(){super("float")}}class Ht extends Nt{constructor(){super("background-image")}}class Zt extends xt{constructor(){super("z-index","float",0)}filter(t){return""==t||"auto"==t}}class Yt extends h{constructor(t){super(),this.path=t}toString(){return this.path}}class Kt extends v{constructor(t,e,r){super(),this.value=v.lift(r),this.root=v.lift(e),this.path=t}query(t,e,r,n){var s=[],i=g.create(e.tail(),this.path),o=n.getObjectNode(i,this.root);return s.push(...this.root.query(t,i,o,n)),r.addChild(o),s}getValue(){return this.value.getValue()}toString(){return this.value.toString()}}class Xt extends Z{constructor(t){super(),this.selector=t,this.members=[t]}evaluate(){if(1!==arguments.length)throw"Invalid number of arguments";var t=v.lift(arguments[0]),e=t.getValue(),r=e.querySelectorAll(this.selector),n=[],s=[];for(let t=0;t<r.length;t++){var i=Xt.getPathTo(r[t]),o=new Kt(new Yt(i),e,r[t]);n.push(o)}for(let t=0;t<n.length;t++)s.push(new Y(t,n));return new S(this,s,t)}static getPathTo(t){if(""!==t.id)return'id("'+t.id+'")';if("BODY"===t.tagName)return t.tagName;var e=0,r=t.parentNode.childNodes;for(let s=0;s<r.length;s++){var n=r[s];if(n===t)return this.getPathTo(t.parentNode)+"/"+t.tagName+"["+(e+1)+"]";1===n.nodeType&&n.tagName===t.tagName&&e++}}}class te{constructor(){}deserialize(e){return t[e.name].deserialize(this,e)}serialize(t){return t.toJson()}}function ee(t,e=[]){for(var r=[],n=0;n<e.length;n++){var s=re(t,e[n]);null!=s&&r.push(s)}return r}function re(t,e){if(null===t)return null;const r=e.evaluate(t);return!0===r.value?null:ne(new at(r,e).getWitness())}function ne(t=[]){const e=o.create();for(const r of t){const t=[];let n,s=null,i=null;if(l(r.getObject())){const t=r.getDesignator().elements;s=t[t.length-2].toString()||null,i=t[t.length-3].toString()||null,n="Path"}else s=r.getObject(),n="ConstantDesignator";for(const e of r.getDesignator().elements){if(e.constructor.name===n)break;t.push(e.toString())}e.insert({elementAttribute:i,part:t,subject:s})}return e}})(),n})()}));
//# sourceMappingURL=index.umd.min.js.map